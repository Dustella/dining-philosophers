<script lang="ts" setup>
import type { PropType } from 'vue'
import { computed } from 'vue'
import { chopsticks, eat, philosopher } from '../logic'
import type { PhiStatus } from '../logic'

const props = defineProps({
  status: String as PropType<PhiStatus>,
  ind: Number,
})
const offset = computed(() => `${props.ind! * 0.2}turn`)
const z_offset = computed(() => `${props.ind! * -0.2}turn`)
const plate = computed(() => props.status === 'eating' ? 'black' : 'white')
</script>

<template>
  <div class="absolute border-1" />
  <div class="wrapper">
    <div class="absolute h-7 w-7 rounded-full bg-white translate-x--1/2 translate-y--13 border-1 plate" />
    <div class="phi-box">
      <div class="rotate-wrapper">
        {{ props.ind! - 1 }}
        <!-- normal phi -->
        <svg v-if="status === 'hungry'" t="1671027766124" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7585" width="64" height="64"><path d="M629.76 504.32c114.3808 27.3408 208.6912 87.4496 282.9312 180.5312C986.9312 777.8304 1024 884.1216 1024 1003.52 1024 1017.2416 1017.1392 1024 1003.52 1024S983.04 1017.2416 983.04 1003.52c0-129.6384-46.08-240.64-138.24-332.8C752.64 578.56 641.7408 532.48 512 532.48c-129.7408 0-240.64 46.08-332.8 138.24C87.04 762.88 40.96 873.8816 40.96 1003.52c0 13.7216-6.8608 20.48-20.48 20.48S0 1017.2416 0 1003.52c0-119.3984 37.0688-225.6896 111.3088-318.7712C185.5488 591.7696 279.8592 531.6608 394.24 504.32 349.9008 482.2016 314.0608 449.7408 286.72 407.04 259.3792 364.4416 245.76 317.44 245.76 266.24c0-73.3184 26.0096-136.0896 78.0288-188.2112C375.9104 26.0096 438.5792 0 512 0c73.4208 0 136.0896 26.0096 188.2112 78.0288C752.2304 130.1504 778.24 192.9216 778.24 266.24c0 51.2-13.6192 98.2016-40.96 140.8C709.9392 449.7408 674.0992 482.2016 629.76 504.32zM350.72 427.52C395.0592 470.2208 448.8192 491.52 512 491.52c63.1808 0 116.4288-21.8112 159.9488-65.3312C715.5712 382.6688 737.28 329.4208 737.28 266.24c0-63.0784-21.7088-116.4288-65.3312-160.0512C628.4288 62.6688 575.1808 40.96 512 40.96c-63.1808 0-116.5312 21.7088-159.9488 65.2288C308.4288 149.8112 286.72 203.1616 286.72 266.24 286.72 329.4208 308.0192 383.1808 350.72 427.52z" p-id="7586" /></svg>
        <svg v-else-if="status === 'thinking'" t="1671085717853" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1370" width="64" height="64"><path d="M758.4768 1005.056c0-99.5328-35.1232-184.5248-105.472-254.7712-70.3488-70.2464-155.2384-105.472-254.7712-105.472S213.7088 679.936 143.36 750.1824C73.1136 820.5312 37.888 905.5232 37.888 1005.056 37.888 1017.7536 31.6416 1024 18.944 1024S0 1017.7536 0 1005.056c0-110.592 38.7072-204.6976 116.1216-282.112C193.536 645.5296 287.6416 606.8224 398.2336 606.8224c110.592 0 204.5952 38.8096 282.112 116.1216C757.76 800.3584 796.4672 894.464 796.4672 1005.056 796.4672 1017.7536 790.1184 1024 777.5232 1024 764.8256 1024 758.4768 1017.7536 758.4768 1005.056zM398.2336 644.7104c-58.4704 0-107.8272-20.1728-148.1728-60.416-40.3456-40.2432-60.416-89.7024-60.416-148.1728 0-41.0624 11.4688-79.0528 34.4064-113.7664 22.9376-34.7136 53.3504-60.8256 91.2384-78.2336 12.5952-3.1744 20.5824 0 23.7568 9.5232C343.6544 264.704 340.5824 273.408 329.5232 279.6544 297.8816 292.352 272.9984 312.9344 254.7712 341.2992 236.6464 369.7664 227.5328 401.408 227.5328 436.1216c0 47.4112 16.5888 87.6544 49.7664 120.9344 33.1776 33.1776 73.5232 49.7664 120.9344 49.7664 37.888 0 71.8848-11.0592 101.888-33.1776 11.0592-7.8848 19.7632-7.0656 26.112 2.3552C534.1184 587.0592 533.2992 595.7632 523.8784 602.112 485.888 630.4768 444.0064 644.7104 398.2336 644.7104zM549.888 530.944c-3.1744 0-5.5296-0.8192-7.0656-2.3552C534.9376 525.4144 530.944 519.9872 530.944 512L530.944 417.1776 455.0656 417.1776c-22.1184 0-40.2432-7.168-54.4768-21.2992C386.3552 381.6448 379.2896 363.52 379.2896 341.2992L379.2896 75.8784c0-22.1184 7.0656-40.3456 21.2992-54.4768C414.8224 7.0656 432.9472 0 455.0656 0l493.056 0c22.1184 0 40.2432 7.0656 54.4768 21.2992C1016.9344 35.5328 1024 53.76 1024 75.8784l0 265.5232c0 22.1184-7.0656 40.2432-21.2992 54.4768C988.4672 410.112 970.24 417.1776 948.1216 417.1776L689.7664 417.1776l-128 109.056C558.592 529.408 554.7008 530.944 549.888 530.944zM455.0656 37.888c-25.2928 0-37.888 12.6976-37.888 37.888l0 265.5232c0 25.2928 12.5952 37.888 37.888 37.888L549.888 379.1872c12.5952 0 18.944 6.3488 18.944 18.944l0 73.5232L670.8224 384C673.9968 380.8256 677.888 379.2896 682.7008 379.2896l265.5232 0c25.2928 0 37.888-12.5952 37.888-37.888L986.112 75.8784c0-25.2928-12.5952-37.888-37.888-37.888L455.0656 37.9904z" p-id="1371" /></svg>
        <svg v-else t="1671085842333" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3867" width="64" height="64"><path d="M708.588341 480.0032c9.112689 7.576842 9.931807 16.791921 2.252575 27.440456-7.576842 7.576842-16.791921 7.576842-27.440456 0C610.294171 437.409059 522.648535 402.391761 420.565943 402.391761c-106.690131 0-197.305069 37.372263-271.947205 112.014399C73.976602 588.945905 36.60434 679.663234 36.60434 786.353365c0 12.184382-6.143386 18.327767-18.327767 18.327767S0.051195 798.537746 0.051195 786.353365c0-99.010899 30.512149-186.656534 91.434057-262.834517 60.921908-76.177982 138.635736-124.915508 233.141486-146.314969C254.489751 339.114889 219.472453 280.445555 219.472453 201.19588c0-56.416758 19.454055-104.027997 58.259774-142.833717C316.640336 19.556444 364.251575 0.10239 420.565943 0.10239s104.027997 19.454055 142.833717 58.259774c38.908109 38.908109 58.259774 86.416958 58.259774 142.833717 0 79.249675-35.017298 137.919008-105.154285 176.007999C586.642136 392.459954 650.635736 426.760524 708.588341 480.0032zM304.046395 317.817818c31.945605 31.945605 70.853715 48.020798 116.519548 48.020798 45.665833 0 84.573943-15.972803 116.519548-48.020798C569.133487 285.769823 585.106289 246.964104 585.106289 201.19588c0-45.665833-15.972803-84.573943-48.020798-116.519548C505.139886 52.628337 466.334167 36.655534 420.565943 36.655534c-45.665833 0-84.573943 15.972803-116.519548 48.020798C271.9984 116.621938 256.025597 155.530047 256.025597 201.19588 256.025597 246.964104 271.9984 285.769823 304.046395 317.817818zM1005.621038 694.919308C1017.805419 694.919308 1023.948805 700.960304 1023.948805 713.144686l0 255.974403c0 12.184382-6.143386 18.327767-18.327767 18.327767L639.987201 987.446855c-12.184382 0-18.327767-6.143386-18.327767-18.327767l0-255.974403c0-12.184382 6.143386-18.327767 18.327767-18.327767l36.553145 0L676.540346 658.366163c0-39.624838 14.436956-73.925407 43.413259-102.79932C748.929907 526.488151 783.230477 512.051195 822.855314 512.051195 862.480152 512.051195 896.678332 526.488151 925.654635 555.464454c28.976302 28.976302 43.413259 63.276872 43.413259 102.79932l0 36.553145L1005.621038 694.816918zM987.39566 731.472453 658.314969 731.472453l0 219.421258 329.080692 0L987.39566 731.472453zM713.093491 694.919308l219.421258 0L932.514749 658.366163c0-30.512149-10.648535-56.416758-31.945605-77.713829C879.169683 559.252875 853.265073 548.60434 822.855314 548.60434S766.438556 559.252875 745.141486 580.652335C723.742026 601.949405 713.093491 627.854015 713.093491 658.366163L713.093491 694.919308zM859.408459 804.578742c0 13.720228-6.143386 24.368763-18.327767 31.945605l0 59.386061c0 12.184382-6.143386 18.327767-18.327767 18.327767-12.184382 0-18.327767-6.143386-18.327767-18.327767L804.425157 836.626737C792.343166 828.947505 786.30217 818.29897 786.30217 804.578742c0-24.368763 12.184382-36.553145 36.553145-36.553145S859.408459 780.209979 859.408459 804.578742z" p-id="3868" /></svg>
        {{ props.status }}
      </div>
    </div>
  </div>
</template>

<style scoped>
.phi-box{
    height: 4rem;
    width: 4rem;
    position: absolute;
    /* border:1px solid; */
    transform: translateX(-50%);
}
.wrapper{
    transform:rotate(v-bind(offset)) translate(-0rem,9rem);

}
.rotate-wrapper{
    transform:rotate(v-bind(z_offset));
}

.plate{
  background-color: v-bind(plate); ;
}
</style>
